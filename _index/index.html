
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Geoffysicist">
      
      
        <link rel="canonical" href="http://geoffysicist.github.io/PyroPy/_index/">
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.11">
    
    
      
        <title>Welcome to PyroPy - PyroPy</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.50e68009.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:300,400,400i,700%7C&display=fallback">
        <style>:root{--md-text-font:"Raleway";--md-code-font:""}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#welcome-to-pyropy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="PyroPy" class="md-header__button md-logo" aria-label="PyroPy" data-md-component="logo">
      
  <img src="../img/FBA-Aus_red_cropped.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PyroPy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Welcome to PyroPy
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Geoffysicist/PyroPy/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="PyroPy" class="md-nav__button md-logo" aria-label="PyroPy" data-md-component="logo">
      
  <img src="../img/FBA-Aus_red_cropped.png" alt="logo">

    </a>
    PyroPy
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Geoffysicist/PyroPy/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        Licence
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pyropy.firebehaviour" class="md-nav__link">
    firebehaviour
  </a>
  
    <nav class="md-nav" aria-label="firebehaviour">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyropy.firebehaviour.Incident" class="md-nav__link">
    Incident
  </a>
  
    <nav class="md-nav" aria-label="Incident">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyropy.firebehaviour.Incident.check_params" class="md-nav__link">
    check_params()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.firebehaviour.Incident.get_df" class="md-nav__link">
    get_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.firebehaviour.Incident.get_params" class="md-nav__link">
    get_params()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.firebehaviour.Incident.print" class="md-nav__link">
    print()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.firebehaviour.Incident.run_forest_mk5" class="md-nav__link">
    run_forest_mk5()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.firebehaviour.Incident.run_forest_vesta" class="md-nav__link">
    run_forest_vesta()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.firebehaviour.Incident.update_params" class="md-nav__link">
    update_params()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyropy.helpers" class="md-nav__link">
    helpers
  </a>
  
    <nav class="md-nav" aria-label="helpers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyropy.helpers.check_encoding" class="md-nav__link">
    check_encoding()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.helpers.incident_to_calc" class="md-nav__link">
    incident_to_calc()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyropy.spreadmodels" class="md-nav__link">
    spreadmodels
  </a>
  
    <nav class="md-nav" aria-label="spreadmodels">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyropy.spreadmodels.get_FFDI" class="md-nav__link">
    get_FFDI()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.spreadmodels.ros_forest_mk5" class="md-nav__link">
    ros_forest_mk5()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.spreadmodels.ros_forest_vesta" class="md-nav__link">
    ros_forest_vesta()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.spreadmodels.spread_direction" class="md-nav__link">
    spread_direction()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pyropy.weatherdata" class="md-nav__link">
    weatherdata
  </a>
  
    <nav class="md-nav" aria-label="weatherdata">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyropy.weatherdata.df_to_amicus" class="md-nav__link">
    df_to_amicus()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.weatherdata.df_to_weather" class="md-nav__link">
    df_to_weather()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.weatherdata.gridded_to_df" class="md-nav__link">
    gridded_to_df()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyropy.weatherdata.weather_to_df" class="md-nav__link">
    weather_to_df()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    Commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-layout" class="md-nav__link">
    Project layout
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/Geoffysicist/PyroPy/edit/master/docs/_index.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="welcome-to-pyropy">Welcome to PyroPy</h1>
<p>For full documentation visit <a href="https://www.mkdocs.org">mkdocs.org</a>.</p>


  <div class="doc doc-object doc-module">


    <div class="doc doc-contents first">




  <div class="doc doc-children">










  <div class="doc doc-object doc-module">



<h2 id="pyropy.firebehaviour" class="doc doc-heading">
        <code>firebehaviour</code>



</h2>

    <div class="doc doc-contents ">

      <p>firebehaviour.py</p>
<p>Defines the classes used to analyse fire behaviour with PyroPy.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h3 id="pyropy.firebehaviour.Incident" class="doc doc-heading">
        <code>
Incident        </code>



</h3>

    <div class="doc doc-contents ">

      <p>A wildfire incident.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>df</code></td>
        <td><code>Dataframe</code></td>
        <td><p>Weather and model output data</p></td>
      </tr>
      <tr>
        <td><code>wrf</code></td>
        <td><code>float</code></td>
        <td><p>wind reduction factor (0-6)</p></td>
      </tr>
      <tr>
        <td><code>fuel_load</code></td>
        <td><code>float</code></td>
        <td><p>fine fuel load (t/ha)</p></td>
      </tr>
      <tr>
        <td><code>fhs_surf</code></td>
        <td><code>float</code></td>
        <td><p>surface fuels hazard score (1-4)</p></td>
      </tr>
      <tr>
        <td><code>fhs_n_surf</code></td>
        <td><code>float</code></td>
        <td><p>near surface fuels hazard score (1-4)</p></td>
      </tr>
      <tr>
        <td><code>fuel_height_ns</code></td>
        <td><code>float</code></td>
        <td><p>near surface fuel height (cm)</p></td>
      </tr>
  </tbody>
</table>



  <div class="doc doc-children">










  <div class="doc doc-object doc-method">



<h4 id="pyropy.firebehaviour.Incident.check_params" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Checks to see if parameters have been defined.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>params</code></td>
        <td><code>dict</code></td>
        <td><p>a dictionary with the parmeters to check.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p><code>True</code> is values for the parameters have been defined,
    else <code>False</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="pyropy.firebehaviour.Incident.get_df" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_df</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">


<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>the Incident Data as a pandas <code>Dataframe</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="pyropy.firebehaviour.Incident.get_params" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_params</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Gets the model parameters that have been defined.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>dictionary with model parameter names and values</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="pyropy.firebehaviour.Incident.print" class="doc doc-heading">
<code class="highlight language-python"><span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Prints the field headings and rows of the <code>Dataframe</code></p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>head</code></td>
        <td><code>bool</code></td>
        <td><p>Print only the head (first 5 rows).
Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="pyropy.firebehaviour.Incident.run_forest_mk5" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_forest_mk5</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Runs the McArthur Mk5 Forest Fire Danger Meter model.</p>
<p>Adds the results to the <code>Incident.df</code></p>

    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="pyropy.firebehaviour.Incident.run_forest_vesta" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run_forest_vesta</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Runs the Project Vesta (fuel hazard scores) model.</p>
<p>Adds the results to the <code>Incident.df</code></p>

    </div>

  </div>



  <div class="doc doc-object doc-method">



<h4 id="pyropy.firebehaviour.Incident.update_params" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span></code>


</h4>

    <div class="doc doc-contents ">

      <p>Update several model parameters using a dictionary.</p>
<p>The dictionary keys must match the name of the parameter.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>params</code></td>
        <td><code>dict</code></td>
        <td><p>a dictionary of the model parameters to be updated.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="pyropy.helpers" class="doc doc-heading">
        <code>helpers</code>



</h2>

    <div class="doc doc-contents ">

      <p>Utility scripts for fire behaviour analysis.</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="pyropy.helpers.check_encoding" class="doc doc-heading">
<code class="highlight language-python"><span class="n">check_encoding</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Returns the encoding of a csv file.</p>
<p>TODO if encoding is Windws cp1252 change to latin-1 for better mapping see 
http://python-notes.curiousefficiency.org/en/latest/python3/text_file_processing.html</p>

    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="pyropy.helpers.incident_to_calc" class="doc doc-heading">
<code class="highlight language-python"><span class="n">incident_to_calc</span><span class="p">(</span><span class="n">incident</span><span class="p">,</span> <span class="n">calc_fn</span><span class="p">,</span> <span class="n">datetime_format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">/%m/%Y %H:%M&#39;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>reads incident data and parameters into fb_calc spreadsheet</p>

    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="pyropy.spreadmodels" class="doc doc-heading">
        <code>spreadmodels</code>



</h2>

    <div class="doc doc-contents ">

      <p>spreadmodels.py</p>
<p>Australian rate of spread models for wildfire and prescribed burns.</p>
<p>Unless otherwise indicated all models have been taken from:</p>
<blockquote>
<p>Cruz, Miguel, James Gould, Martin Alexander, Lachie Mccaw, and Stuart Matthews. 
(2015) A Guide to Rate of Fire Spread Models for Australian Vegetation, 
CSIRO Land &amp; Water and AFAC, Melbourne, Vic 125 pp. </p>
</blockquote>
<p>Unless otherwise indicated all equations numbers also refer to Cruz et al. 2015.</p>
<p>All spread models take a pandas weather dataframe and model specific 
parmeters as arguments.</p>
<p>The weather dataframe must include the following exact fields (column headings):</p>
<pre><code>    date_time: a pandas datetime field
    temp: Air temerature (°C)
    humidity: Relative humidity (%)
    wind_speed: 10 m wind speed (km/h)
    wind_dir: Wind direction (°)
</code></pre>
<p>Ideally the weather dataframe should include a drought factor though this
can be added as a parameter. TODO add error checking for this!</p>
<p>The <code>weather</code> module provides function for reading <code>*.csv</code> files into 
dataframes from standard sources</p>



  <div class="doc doc-children">








  <div class="doc doc-object doc-function">



<h3 id="pyropy.spreadmodels.get_FFDI" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_FFDI</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">wrf</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">flank</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">DF</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>McArthur Forest Fire Danger Index (FFDI).</p>
<p>Uses Eqn 5.19.</p>
<p>If a drought factor (column heading = <code>drought</code>) is present in the weather
dataframe then this is used, otherwise a drought factor must be supplied or
the drought factor defaults to 9.</p>
<p>if <code>flank=True</code> the <code>ffdi</code> is calculated for a wind speed = 0</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>df</code></td>
        <td><code>DataFrame</code></td>
        <td><p>a pandas dataframe which must contain the specified the weather
data. This can be an Incident dataframe (<code>Incident.df</code>)</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>wrf</code></td>
        <td><code>int</code></td>
        <td><p>a wind reduction factor</p></td>
        <td><code>3</code></td>
      </tr>
      <tr>
        <td><code>flank</code></td>
        <td><code>bool</code></td>
        <td><p>if <code>flank=True</code> the ffdi is calculated for a wind speed = 0</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>DF</code></td>
        <td><code>int</code></td>
        <td><p>drought factor, this is only used if there is no <code>drought</code> in the 
DataFrame</p></td>
        <td><code>9</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Series</code></td>
      <td><p>a pandas Series of FFDI.</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="pyropy.spreadmodels.ros_forest_mk5" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ros_forest_mk5</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">wrf</span><span class="p">,</span> <span class="n">fuel_load</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Forward Rate of Spread (FROS) from McArthur Mk5 Forest Fire Danger Meter.</p>
<p>Eqn: 5.27</p>
<p>Application: Wildfire in Sclerophyll (Eucalypt) forests</p>
<p>Notes: This model is still widely used by FBAns in Australia though 
Cruz et al. 2015 recommend using Vesta in preference. However many 
FBAns feel that Vesta over predicts ROS unless conditions are 
severe.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>df</code></td>
        <td><code>DataFrame</code></td>
        <td><p>a pandas dataframe which must contain the specified the weather
data. This can be an Incident dataframe (<code>Incident.df</code>)</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>wrf</code></td>
        <td><code>float</code></td>
        <td><p>wind reduction factor</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>fuel_load</code></td>
        <td><code>float</code></td>
        <td><p>fine fule load t/ha</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>a pandas dataframe including the fields</p>
<pre><code>`fros_mk5` the forward rate of spread (m/h)
</code></pre></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="pyropy.spreadmodels.ros_forest_vesta" class="doc doc-heading">
<code class="highlight language-python"><span class="n">ros_forest_vesta</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">fhs_surf</span><span class="p">,</span> <span class="n">fhs_n_surf</span><span class="p">,</span> <span class="n">fuel_height_ns</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Forward Rate of Spread (FROS) from Project Vesta (fuel hazard scores)</p>
<p>Eqn: 5.28</p>
<p>Application: Wildfire in Sclerophyll (Eucalypt) forests</p>
<p>Notes: Many FBAns feel that Vesta over predicts ROS unless conditions
are severe and use McArthur 1973a Mk5 Forest Fire Danger Meter.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>df</code></td>
        <td><code>DataFrame</code></td>
        <td><p>a pandas dataframe which must contain the specified the weather
data. This can be an Incident dataframe (<code>Incident.df</code>)</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>fhs_surf</code></td>
        <td><code>float</code></td>
        <td><p>surface fuel hazard score (0-4)</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>fhs_n_surf</code></td>
        <td><code>float</code></td>
        <td><p>near surface fuel hazard score (0-4)</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>fuel_height_ns</code></td>
        <td><code>float</code></td>
        <td><p>near surface fuel height (cm)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>a pandas dataframe including the fields</p>
<pre><code>`mc` the fuel moisture conent (%)
`fros_vesta` the forward rate of spread (m/h)
</code></pre></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="pyropy.spreadmodels.spread_direction" class="doc doc-heading">
<code class="highlight language-python"><span class="n">spread_direction</span><span class="p">(</span><span class="n">df</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Converts wind direction to spread direction.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>df</code></td>
        <td><code>DataFrame</code></td>
        <td><p>a pandas dataframe which must contain the specified the weather
data. This can be an Incident dataframe (<code>Incident.df</code>)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Series</code></td>
      <td><p>a pandas Series of spread direction in degrees.</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h2 id="pyropy.weatherdata" class="doc doc-heading">
        <code>weatherdata</code>



</h2>

    <div class="doc doc-contents ">

      <p>weatherdata.py</p>
<p>Functions for reading, transforming and writing weather data for fire behavior.</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-function">



<h3 id="pyropy.weatherdata.df_to_amicus" class="doc doc-heading">
<code class="highlight language-python"><span class="n">df_to_amicus</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>"Creates a weather <code>DataFrame</code> containing 
<a href="https://research.csiro.au/amicus/">Amicus</a> compatible fields.</p>
<p>Writes the weather data to a <code>*.csv</code> file</p>
<p>The output fields are:</p>
<pre><code>'date_time': 'Date time',
'temp': 'Air temperature (°C)',
'humidity': 'Relative humidity (%)',
'wind_speed': '10 m wind speed (km/h)',
'wind_dir': 'Wind direction (°)'
</code></pre>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>df</code></td>
        <td></td>
        <td><p>a <code>DataFrame</code> containing the weather and other fields</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>fn</code></td>
        <td><code>str</code></td>
        <td><p>path to the output file</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>a pandas <code>DataFrame</code> with Amicus compatible fields</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="pyropy.weatherdata.df_to_weather" class="doc doc-heading">
<code class="highlight language-python"><span class="n">df_to_weather</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">col_names</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;date_time&#39;</span><span class="p">:</span> <span class="s1">&#39;Date time&#39;</span><span class="p">,</span> <span class="s1">&#39;temp&#39;</span><span class="p">:</span> <span class="s1">&#39;Air temperature (C)&#39;</span><span class="p">,</span> <span class="s1">&#39;humidity&#39;</span><span class="p">:</span> <span class="s1">&#39;Relative humidity (%)&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_speed&#39;</span><span class="p">:</span> <span class="s1">&#39;10 m wind speed (km/h)&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_dir&#39;</span><span class="p">:</span> <span class="s1">&#39;Wind direction&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_dir_cp&#39;</span><span class="p">:</span> <span class="s1">&#39;Wind direction&#39;</span><span class="p">,</span> <span class="s1">&#39;drought&#39;</span><span class="p">:</span> <span class="s1">&#39;Drought Factor&#39;</span><span class="p">},</span> <span class="n">datetime_format</span><span class="o">=</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1"> %H:%M&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>"Creates a weather <code>DataFrame</code> containing the fields in <code>col_names</code>.</p>
<p>Writes the weather data to a <code>*.csv</code> file</p>
<p>The default fields are:</p>
<pre><code>    'date': 'Local Date',
    'time': 'Local Time',
    'temp': 'Temp (C)',
    'humidity': 'RH (%)',
    'wind_dir': 'Wind Dir',
    'wind_speed': 'Wind Speed (km/h)',
    'drought': 'Drought Factor',
    'ffdi': 'FFDI',
    'gfdi': 'GFDI',
</code></pre>
<p>If <code>datetime_format == 'iso8601'</code> the output format will be <code>%Y-%m-%dT%H:%M:%s+11:00</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>df</code></td>
        <td><code>DataFrame</code></td>
        <td><p>a <code>DataFrame</code> containing the weather and other fields</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>fn</code></td>
        <td><code>str</code></td>
        <td><p>path to the output file</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>col_names</code></td>
        <td></td>
        <td><p>the fields to be returned</p></td>
        <td><code>{&#39;date_time&#39;: &#39;Date time&#39;, &#39;temp&#39;: &#39;Air temperature (C)&#39;, &#39;humidity&#39;: &#39;Relative humidity (%)&#39;, &#39;wind_speed&#39;: &#39;10 m wind speed (km/h)&#39;, &#39;wind_dir&#39;: &#39;Wind direction&#39;, &#39;wind_dir_cp&#39;: &#39;Wind direction&#39;, &#39;drought&#39;: &#39;Drought Factor&#39;}</code></td>
      </tr>
      <tr>
        <td><code>datetime_format</code></td>
        <td></td>
        <td><p>the output format for datetimes, dates and times.</p></td>
        <td><code>&#39;%Y%m%d %H:%M&#39;</code></td>
      </tr>
      <tr>
        <td><code>encoding</code></td>
        <td></td>
        <td><p>the coding for the output file if <code>*.csv</code>. Default is <code>UTF-8</code></p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>a pandas <code>DataFrame</code> with the specified fields</p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="pyropy.weatherdata.gridded_to_df" class="doc doc-heading">
<code class="highlight language-python"><span class="n">gridded_to_df</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Reads BoM gridded weather forecast or observations into a pandas 
    <code>DataFrame</code>.</p>
<p>Assumes that the header row = 6 and the field names are:</p>
<blockquote>
<p><code>FIELDS_GRIDDED = {
    'date': 'Local Date',
    'time': 'Local Time',
    'temp': 'Temp (C)',
    'humidity': 'RH (%)',
    'wind_dir': 'Wind Dir',
    'wind_speed': 'Wind Speed (km/h)',
    'drought': 'Drought Factor',
    'ffdi': 'FFDI',
    'gfdi': 'GFDI',
}</code></p>
</blockquote>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>fn</code></td>
        <td><code>str</code></td>
        <td><p>the path to the csv file</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>DataFrame</code></td>
      <td><p>a pandas DataFrame with the columns defined in <code>FIELDS_GRIDDED</code></p></td>
    </tr>
  </tbody>
</table>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="pyropy.weatherdata.weather_to_df" class="doc doc-heading">
<code class="highlight language-python"><span class="n">weather_to_df</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">col_names</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;date_time&#39;</span><span class="p">:</span> <span class="s1">&#39;Date time&#39;</span><span class="p">,</span> <span class="s1">&#39;temp&#39;</span><span class="p">:</span> <span class="s1">&#39;Air temperature (C)&#39;</span><span class="p">,</span> <span class="s1">&#39;humidity&#39;</span><span class="p">:</span> <span class="s1">&#39;Relative humidity (%)&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_speed&#39;</span><span class="p">:</span> <span class="s1">&#39;10 m wind speed (km/h)&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_dir&#39;</span><span class="p">:</span> <span class="s1">&#39;Wind direction&#39;</span><span class="p">,</span> <span class="s1">&#39;wind_dir_cp&#39;</span><span class="p">:</span> <span class="s1">&#39;Wind direction&#39;</span><span class="p">,</span> <span class="s1">&#39;drought&#39;</span><span class="p">:</span> <span class="s1">&#39;Drought Factor&#39;</span><span class="p">},</span> <span class="n">datetime_format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">/%m/%Y %H:%M&#39;</span><span class="p">)</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Reads weather forecast or observations into a pandas <code>DataFrame</code>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>fn</code></td>
        <td><code>str</code></td>
        <td><p>the path to the csv or axf file</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>header</code></td>
        <td><code>int</code></td>
        <td><p>the line containing the column headers</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>col_names</code></td>
        <td><code>dict</code></td>
        <td><p>the dictionary containing the column names to read into the
dataframe</p></td>
        <td><code>{&#39;date_time&#39;: &#39;Date time&#39;, &#39;temp&#39;: &#39;Air temperature (C)&#39;, &#39;humidity&#39;: &#39;Relative humidity (%)&#39;, &#39;wind_speed&#39;: &#39;10 m wind speed (km/h)&#39;, &#39;wind_dir&#39;: &#39;Wind direction&#39;, &#39;wind_dir_cp&#39;: &#39;Wind direction&#39;, &#39;drought&#39;: &#39;Drought Factor&#39;}</code></td>
      </tr>
      <tr>
        <td><code>datetime_format</code></td>
        <td><code>str</code></td>
        <td><p>string format for the date times</p></td>
        <td><code>&#39;%d/%m/%Y %H:%M&#39;</code></td>
      </tr>
  </tbody>
</table>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

<h2 id="commands">Commands</h2>
<ul>
<li><code>mkdocs new [dir-name]</code> - Create a new project.</li>
<li><code>mkdocs serve</code> - Start the live-reloading docs server.</li>
<li><code>mkdocs build</code> - Build the documentation site.</li>
<li><code>mkdocs -h</code> - Print help message and exit.</li>
</ul>
<h2 id="project-layout">Project layout</h2>
<pre><code>mkdocs.yml    # The configuration file.
docs/
    index.md  # The documentation homepage.
    ...       # Other markdown pages, images and other files.
</code></pre>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.092fa1f6.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.5a9542cf.min.js"></script>
      
    
  </body>
</html>